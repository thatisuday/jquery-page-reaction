"use strict";!function(n){if(void 0==window.io||null==window.io)throw new Error("socket-io client library is missing!!! page-reaction will not work!");var c=function(n,c){var o={};return c.forEach(function(c){var t=n.data(c);t&&(o[c]=t)}),o},o=function(n,c,o){n.emit("interaction",c),o&&o(c)},t=[];setInterval(function(){var n=t.splice(0,t.length);if(n.length>0){var c=n.map(function(n){return n.data}),i=n[0].socket;o(i,c,null),n.forEach(function(n){n.callback(n.data)})}},1e3),n.fn.pageReact=function(i){var i=n.extend({},{on:"click",once:!0,pickData:[]},n.fn.pageReact.config,i);if(void 0==i.socket||null==i.socket)throw new Error("socket connection is missing in options provided for event "+i.on);return this.each(function(){var e=n(this),a=function(n,t){o(i.socket,{event:n,sessionId:i.sessionId,pickData:c(e,i.pickData)},t)},f=function(n,o){t.push({socket:i.socket,data:{event:n,sessionId:i.sessionId,pickData:c(e,i.pickData)},callback:o})},l=function(c,o){"ready"==c?n(document).ready(function(){o(c)}):1==i.once?e.one(c,function(){o(c)}):e.on(c,function(){o(c)})};"click"==i.on?l("click",function(n){a(n,function(n){i.callback&&i.callback(e,n)})}):"mouseenter"==i.on?l("mouseenter",function(n){a(n,function(n){i.callback&&i.callback(e,n)})}):"inview"==i.on?l("inview",function(n){f(n,function(n){i.callback&&i.callback(e,n)})}):"ready"==i.on&&l("ready",function(n){a(n,function(n){i.callback&&i.callback(e,n)})})}),this},n.fn.pageReact.config={socket:null},n.fn.pageReactConfig=function(c){n.extend(n.fn.pageReact.config,c)}}(jQuery);
//# sourceMappingURL=plugin.min.js.map
